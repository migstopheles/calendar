(function(){var a=!!window.jQuery,b=!!document.querySelectorAll;var e={isArray:function(l){return l instanceof Array||!!l.length},make:function(m,n){var o=document.createElement(m);if(n){for(var l in n){o[l]=n[l]}}return o},query:(function(){return b?function(l,m){return l.nodeType?[l]:(m||document).querySelectorAll(l)}:a?function(l,m){return $(l,(m||null)).toArray()}:function(l,m){return[l+" - dependency required"]}})(),bind:(function(l){return l?function(o,m,n){o["evt"+m+n]=n;o[m+n]=function(){o["evt"+m+n](window.event)};o.attachEvent("on"+m,o[m+n])}:function(o,m,n){o.addEventListener(m,n,false)}})(window.attachEvent),foreach:function(p,o){if(p.forEach){return p.forEach(o)}if(this.isArray(p)){for(var n=0,m=p.length;n<m;){o.call(p[n],p[n],n++)}}else{for(var n in p){o.call(p[n],p[n],n)}}}};var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var c=(function(){var l=[31,28,31,30,31,30,31,31,30,31,30,31];var r=["January","February","March","April","May","June","July","August","September","October","November","December"];var p=[];var o=-1;while(++o<l.length){var q=new Number(l[o]);q.monthName=r[o];p.push(q)}return p})();var h=(function(){var o=new Date();var m=o.getUTCFullYear();var n=o.getMonth();var l=o.getDate();return new Date(m,n,l)})();var d=function(m){var n="cal-day";if(!m.available){n+=" unavailable"}if(m.isPast){n+=" past"}if(m.isNextMonth){n+=" next-month"}if(m.isToday){n+=" today"}else{if(m.isPrevMonth){n+=" prev-month"}else{n+=" this-month"}}var l=e.make("span",{innerHTML:m.dayofmonth,className:n});return l};var g=function(l,m){this.weekday=new Number(l.getDay());this.weekday.name=k[this.weekday];this.dayofmonth=l.getDate();this.monthName=c[l.getMonth()].monthName;this.available=l.getTime()>=h.getTime();this.isNextMonth=l.getMonth()>m.getMonth();this.isPrevMonth=l.getMonth()<m.getMonth();this.iscurrent_month=l.getMonth()===m.getMonth();this.isPast=l.getTime()<h.getTime();this.isToday=l.getTime()===h.getTime();this.raw_date=l};var i=function(n,m,l){this.date_information=new g(n,m);this.dom_node=null;this.calendar=l;this.selected=false};i.prototype.select=function(){this.calendar.selectDay(this)};i.prototype.unSelect=function(){this.calendar.unSelect(this)};i.prototype.toggleSelect=function(){if(this.selected){this.calendar.unSelectDay(this)}else{this.calendar.selectDay(this)}};var j=function(m){var l=this;this.dom_node=m;this.next_btn=e.make("a",{className:"cal-nav cal-next",innerHTML:"&raquo;"});this.prev_btn=e.make("a",{className:"cal-nav cal-prev",innerHTML:"&laquo;"});this.month_label=e.make("span",{className:"cal-month"});this.initial_node=e.make("div",{className:"cal-header"});e.foreach(k,function(n){l.initial_node.appendChild(e.make("span",{innerHTML:n.substring(0,1).toUpperCase(),className:"cal-day-head"}))});e.bind(this.next_btn,"click",function(){l.showNextMonth()});e.bind(this.prev_btn,"click",function(){l.showPrevMonth()});this.removeAllChildren();this.date=null;this.selected_dates=[];this.calendar_info={current_month:{}};this.setDate(new Date());this.selectedDay=null};j.prototype.setDate=function(l){if(l){if(l instanceof Date){this.date=l}else{this.date=new Date(l)}}else{this.date=new Date()}if(!!this.calendar_info[this.current_month+this.current_year]){this.dom_node.removeChild(this.calendar_info[this.current_month+this.current_year].html)}this.current_month=c[this.date.getMonth()].monthName.toLowerCase();this.current_year=this.date.getFullYear();this.set_data(this.date);this.calendar_info.current_month=this.calendar_info[this.current_month+this.current_year];this.showMonth();this.onMonthChanged.call(this)};j.prototype.showNextMonth=function(){var l=new Date(this.date.getFullYear(),this.date.getMonth()+1);this.setDate(l)};j.prototype.showPrevMonth=function(){var l=new Date(this.date.getFullYear(),this.date.getMonth()-1);this.setDate(l)};j.prototype.showMonth=function(){this.removeAllChildren();this.month_label.innerHTML=this.current_month.substring(0,3);this.dom_node.appendChild(this.prev_btn);this.dom_node.appendChild(this.month_label);this.dom_node.appendChild(this.next_btn);this.dom_node.appendChild(this.initial_node);this.dom_node.appendChild(this.calendar_info[this.current_month+this.current_year].html)};j.prototype.removeAllChildren=function(){var m=this;var l=this.dom_node.childNodes;while(l.length>0){this.dom_node.removeChild(l[l.length-1])}};j.prototype.selectDay=function(l){this.selectedDay=l;this.selected_dates.push(l);l.selected=true;this.onDaySelected.call(this,l)};j.prototype.unSelectDay=function(l){var m=this.selected_dates.length;while(m--){if(this.selected_dates[m]===l){this.selected_dates.splice(m,1)}}this.selectedDay=null;l.selected=false;this.onDayUnSelected.call(this,l)};j.prototype.set_data=function(l){if(!!this.calendar_info[this.current_month+this.current_year]){return}var q=l.getUTCFullYear();var o=l.getMonth();var r=[];var n=e.make("div",{className:"calendar-holder clearfix"});var m=(function(){var u;var t=new Date(q,o,1);return t.getDay()===0?t:new Date(q,o,1-t.getDay())})();var s=(function(){var u;var t=new Date(q,o,c[o]);if(t.getDay()===6){return new Date(t.getUTCFullYear(),t.getMonth(),t.getDate()+1)}else{return new Date(q,o,t.getDate()+(7-t.getDay()))}})();while(m.getTime()<s.getTime()){var p=new i(m,l,this);p.dom_node=d(p.date_information);p.dom_node.onclick=(function(t){return function(){t.toggleSelect()}})(p);r.push(p);n.appendChild(p.dom_node);m=new Date(m.getUTCFullYear(),m.getMonth(),m.getDate()+1)}this.calendar_info[this.current_month+this.current_year]={data:r,html:n}};j.prototype.getDay=function(n){var o=this.calendar_info[this.current_month+this.current_year].data;var m=-1;var l;while(++m<o.length){l=o[m].date_information;if(l.dayofmonth===n&&l.monthName.toLowerCase()===this.current_month){return o[m]}}return null};j.prototype.onDaySelected=function(){};j.prototype.onDayUnSelected=function(){};j.prototype.onMonthChanged=function(){};var f=function(l){var n;var m=this;this.widgets=[];if(!!l.nodeName){n=[l]}else{if(typeof l==="string"){n=e.query(l)}else{n=l}}e.foreach(n,function(p){var o=new j(p);m.widgets.push(o)})};window.PageCalendars=f})();